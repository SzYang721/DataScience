S <- 100000
a <- 3
b <- 5
#
x <- rgamma(S, shape=a, rate=b)
mean(x); a/b
var(x); a/b^2
y <- 1/x
mean(y); b/(a-1)
var(y); b^2/( (a-1)^2 * (a-2))
S <- 1000000
a <- 3
b <- 5
#
x <- rgamma(S, shape=a, rate=b)
mean(x); a/b
var(x); a/b^2
y <- 1/x
mean(y); b/(a-1)
var(y); b^2/( (a-1)^2 * (a-2))
var(y)
source('~/.active-rstudio-document', echo=TRUE)
gdp2013 <- read.table("~/Work/MyTeaching/ANU/2014/Intro Math Stat/Tutorial/Tutorial 1/gdp2013.txt", header=TRUE, quote="\"")
View(gdp2013)
D <- gdp2013
D <- na.omit(D)
gdp <- D$Y2013
gdp
hist(gdp, col="yellow")
hist(gdp, col="yellow")
hist(log(gdp), col="yellow")
mean(gdp)
sd(gdp)
##
Q <- quantile(gdp, prob=c(0.25, 0.5, 0.75), type=6)
Q
Q[3]-Q[1]
unname(Q[3]-Q[1])
IQR <- unname(Q[3]-Q[1])
IQR
summary(gdp)
3000
30000
300000
high.outliers <- gdp[gdp > Q[3] + 1.5*IQR]
low.outliers <- gdp[gdp < Q[1] - 1.5*IQR]
high.outliers
low.outliers
D[gdp >= min(high.outliers),]
D[gdp >= min(high.outliers),1]
boxplot(gdp, col="yellow")
boxplot(log(gdp), col="yellow")
factorial(6)
factorial(6)/(factorial(3)*factroial(2))
factorial(6)/(factorial(3)*factrorial(2))
factorial(6)/(factorial(3)*factorial(2))
factorial(6)/(factorial(3)*factorial(1))
S <- 1000
k <- 1000
id <- 1:k
out <- rep(NA, S)
for(s in 1:S){
print(s)
rolls <- sample(1:6, k, replace=TRUE)
D <- cbind(1:(k-1), na.omit(cbind(as.ts(rolls), lag(as.ts(rolls), 1))))
out[s] <- (min(D[D[,2]==6 & D[,3]==6,][,1]) < min(D[D[,2]==5 & D[,3]==6,][,1]))*1
}
mean(out)
S <- 10000
k <- 1000
id <- 1:k
out <- rep(NA, S)
for(s in 1:S){
print(s)
rolls <- sample(1:6, k, replace=TRUE)
D <- cbind(1:(k-1), na.omit(cbind(as.ts(rolls), lag(as.ts(rolls), 1))))
out[s] <- (min(D[D[,2]==6 & D[,3]==6,][,1]) < min(D[D[,2]==5 & D[,3]==6,][,1]))*1
}
mean(out)
3363.41 - 2244.89
2+5
2^5+7
2^(5+7)
rnorm(
5)
x <- 3
y <- 5
mammals <- read.table("~/Dropbox/Teaching/Inference/Data/mammals.txt", header=TRUE, quote="\"")
View(mammals)
x <- 5
y <- 10
x+y
mammals <- read.table("~/Work/MyTeaching/ANU/2015/Statistical Inference/Extra/Ken Rice R-Intro/Data/mammals.txt", header=TRUE, quote="\"")
View(mammals)
plot(x=mammals$body, y=mammals$brain)
plot(x=mammals$body, y=mammals$brain)
plot(mammals$body, mammals$brain)
data("airquality")
coplot(Ozone ~ Solar.R | Temp + Wind, number = c(4, 4),       data = airquality,       pch = 21, col = "goldenrod", bg = "goldenrod")
coplot(Ozone ~ Solar.R | Temp + Wind, number = c(4, 4),       data = airquality,       pch = 21, col = "goldenrod", bg = "goldenrod")
help(coplot)
coplot(lat ~ long | depth, data = quakes)
*
4*33
4*33*12
install.packages("ISLR")
library(ISLR)
data(Wage)
attach(Wage)
plot(age, wage, xlab="Age", ylab="Wage", pch=16, col="gray")
lines(lowess(age, wage), col="blue", lwd=3)
plot(year, wage, xlab="Year", ylab="Wage", pch=16, col="gray")
lines(lowess(year, wage), col="blue", lwd=3)
plot(wage ~ education,
col=c("light blue", "green", "yellow", "blue", "red"),
xlab="Education Level", ylab="Wage")
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y)
mod <- lm(y + x + x^2)
mod <- lm(y ~ x + x^2)
abline(mod)
mod
mod <- lm(y ~ x + I(x^2))
mod
abline(mod)
x.plot <- seq(-3, 3, 0.01)
help(predict)
x.0 <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, x.0)
plot(x.0, y.0)
y.0
x.0
length(y.0)
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y)
mod <- lm(y ~ x + I(x^2))
mod
###
x.0 <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, x.0)
plot(x.0, y.0)
is.numeric(x.0)
is.numeric(y.0)
x.0
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
plot(new$x, y.0)
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y)
mod <- lm(y ~ x + I(x^2))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y)
mod <- lm(y ~ x + I(x^2)+I(x^3)+I(x^4))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y)
mod <- lm(y ~ x + I(x^2)+I(x^3)+I(x^4)+I(x^5))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y)
mod <- lm(y ~ x + I(x^2)+I(x^3)+I(x^4))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
mod <- lm(y ~ -1 + x + I(x^2)+I(x^3)+I(x^4))
mod
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y)
mod <- lm(y ~ -1 + x + I(x^2)+I(x^3)+I(x^4))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y)
mod <- lm(y ~ -1 + x + I(x^2)+I(x^3)+I(x^4)+I(x^5))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y, ylim=c(-5,5))
mod <- lm(y ~ -1 + x + I(x^2)+I(x^3)+I(x^4)+I(x^5))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y, ylim=c(-5,5))
mod <- lm(y ~ -1 + x + I(x^2)+I(x^3)+I(x^4))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y, ylim=c(-50,50))
mod <- lm(y ~ -1 + x + I(x^2)+I(x^3)+I(x^4))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y, ylim=c(-10,10))
mod <- lm(y ~ -1 + x + I(x^2)+I(x^3)+I(x^4))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(1001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y, ylim=c(-20,20))
mod <- lm(y ~ -1 + x + I(x^2)+I(x^3)+I(x^4))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(2001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y, ylim=c(-20,20))
mod <- lm(y ~ -1 + x + I(x^2)+I(x^3)+I(x^4))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(3001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y, ylim=c(-20,20))
mod <- lm(y ~ -1 + x + I(x^2)+I(x^3)+I(x^4))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(3001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y, ylim=c(-20,20))
mod <- lm(y ~ -1 + x + I(x^2)+I(x^3)+I(x^4)+I(x^5))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(3001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y, ylim=c(-20,20))
mod <- lm(y ~  x + I(x^2)+I(x^3)+I(x^4)+I(x^5))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
set.seed(3001)
n <- 5
x <- rnorm(5)
y <- rnorm(5)
plot(x, y, ylim=c(-20,20))
mod <- lm(y ~  -1 + x + I(x^2)+I(x^3)+I(x^4)+I(x^5))
mod
###
new <- data.frame(x = seq(-3, 3, 0.5))
y.0 <-  predict(mod, new)
lines(new$x, y.0, lwd=3)
library(ISLR)
data(college)
library(ISLR)
data(College)
ls()
College[1:3]
head(College)
fix(College)
college
college <- College
college
rownames(college) <- college[,1]
college <- college[,-1]
head(college)
rownames(college)
table(rownames(college))
dim(College)
library(knitr)
setwd("~/Work/MyTeaching/ANU/2015/Statistical Learning/Tutorials/Tutorial 1")
purl("Tut1Sol.Rmd")
help(rm)
purl("Tut1Sol.Rmd")
rm(list = ls())
library(ISLR)
data(College)
college <- College
head(college)
rm(list = ls())
library(ISLR)
data(College)
College
summary(college)
sollege
college
college <- College
summary(college)
pairs(college)
plot(college$Outstate ~ college$private)
plot(college$Outstate ~ college$Private)
rm(list = ls())
library(ISLR)
data(College)
college <- College
plot(college$Outstate ~ college$Private)
rownames(colleges)
rownames(college)
rownames(colleges[Elite="Yes",])[1:6]
rownames(colleges[colleges$Elite="Yes",])[1:6]
rownames(colleges[colleges$Elite=="Yes",])[1:6]
rownames(college[college$Elite=="Yes",])[1:6]
college
summary(college)
Elite  <- rep ("No",nrow(college))
Elite [college$Top10perc >50]="Yes"
Elite  <- as.factor (Elite)
college <- data.frame(college, Elite)
summary(Elite)
summary(college)
rownames(college[college$Elite=="Yes",])[1:6]
rownames(college[college$Elite=="Yes",])
hist(college$Accept)
hist(college$Enrolled)
hist(college$Accept)
hist(college$Enrolled)
help(hist)
hist(college$Enroll, nclass=5)
hist(college$Enroll, nclass=3)
hist(college$Enroll, nclass=2)
hist(college$Enroll, nclass=3)
hist(college$Enroll, nclass=4)
college$Enroll/college$Accept
plot(college$Enroll/college$Accept ~ college$Elite)
purl("Tut1Sol.Rmd")
x1 <- c(0, 2, 0, 0, -1, 1)
x2 <- c(3, 0, 1, 1, 0, 1)
x3 <- c(0,0,3,2,1,1)
y <- c(1,1,1,0,0,1)
D <- data.frame(x1, x2, x3, y)
D
dist <- sqrt( (x1-0)^2 + (x2-0)^2 + (x3-0)^2 )
dist
D.dist <- data.frame(D, dist)
D.dist
D.dist <- data.frame(D, dist)
D.dist$y[min(D.dist$dist),D.dist$y]
D.dist <- data.frame(D, dist)
D.dist$y[min(D.dist$dist),]
D.dist <- data.frame(D, dist)
D.dist$y[min(D.dist$dist)]
D.dist <- data.frame(D, dist)
D.dist$y[D.dist$dist = min(D.dist$dist)]
D.dist <- data.frame(D, dist)
D.dist$y[D.dist$dist == min(D.dist$dist)]
library(ISLR)
data(Carseats)
mod <- lm(Sales ~ Price + Urban + US, data=Carseats)
summary(mod)
400-4
box <- boxplot(mod2$res)
mod2 <- lm(Sales ~ Price + US, data=Carseats)
box <- boxplot(mod2$res)
box
lev <- influence(mod2)
lev
lev <- influence(mod2)
halfnorm(lev$hat)
library(faraway)
halfnorm(lev$hat)
abline(3/nrows(Carseats, lwd=3, col="red")
)
nrows(Carseats)
nrow(Carseats)
abline(3/nrow(Carseats), lwd=3, col="red")
abline(3/nrow(Carseats), lwd=3, col="red")
abline(h=3/nrow(Carseats), lwd=3, col="red")
help(influence)
X <- model.matrix(mod2)
H <- solve(t(X)%*%X)%*%t(X)
dim(X)
dim(H)
X <- model.matrix(mod2)
H <- X%*%solve(t(X)%*%X)%*%t(X)
dim(H)
X <- model.matrix(mod2)
H <- X%*%solve(t(X)%*%X)%*%t(X)
h.i <- diag(H)
h.i[1:5]
lev <- influence(mod2)
lev[1:5]
lev <- influence(mod2)$hat
lev[1:5]
h.i[1:5]
1/400
plot(mod2)
help(halfnorm)
boxplot(lev)
cooks(mod2)
plot(mod2)
set.seed(1)
n <- 100
x1 <- runif(n)
x2 <- 0.5*x1+rnorm(n)/10
y <- 2 + 2*x1 + 0.3*x2 + rnorm(n)
cor(x1, x2)
n <- 10000
x1 <- runif(n)
x2 <- 0.5*x1+rnorm(n)/10
cor(x1, x2)
n <- 100000
x1 <- runif(n)
x2 <- 0.5*x1+rnorm(n)/10
cor(x1, x2)
n <- 1000000
x1 <- runif(n)
x2 <- 0.5*x1+rnorm(n)/10
cor(x1, x2)
n <- 10000000
x1 <- runif(n)
x2 <- 0.5*x1+rnorm(n)/10
cor(x1, x2)
x1 <- c(x1, 0.1)
x2 <- c(x2, 0.8)
y <- c(y, 6)
mod4 <- lm(y ~ x_1 + x2)
mod4 <- lm(y ~ x1 + x2)
mod4 <- lm(y ~ x1 + x2)
x1
set.seed(1)
n <- 100
x1 <- runif(n)
x2 <- 0.5*x1+rnorm(n)/10
y <- 2 + 2*x1 + 0.3*x2 + rnorm(n)
x1 <- c(x1, 0.1)
x2 <- c(x2, 0.8)
y <- c(y, 6)
y
libary(knitr)
library(knitr)
setwd("~/Work/MyTeaching/ANU/2015/Statistical Learning/Tutorials/Tutorial 3")
purl("Tut3Sol.Rmd")
